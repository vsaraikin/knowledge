# Redis

## Redis

## Memcache

Топология развертывания Memcached относительно проста по сравнению с более сложными системами, такими как Redis Cluster. Основные особенности топологии развертывания Memcached следующие:

### 1. Одиночные узлы
Наиболее базовый способ использования Memcached — это одиночный узел. Этот узел содержит весь кэш в памяти, и клиенты подключаются к нему напрямую для сохранения или извлечения данных. Однако такая конфигурация не обеспечивает высокой доступности или отказоустойчивости.

### 2. Множество узлов
Чтобы увеличить объем доступного кэша и обеспечить некоторую степень отказоустойчивости, можно развернуть несколько узлов Memcached. Каждый узел работает независимо, и клиентские библиотеки обычно предоставляют механизмы для распределения данных между узлами (например, согласно хэш-функции).

### 3. Горизонтальное масштабирование
Масштабирование системы Memcached происходит за счет добавления дополнительных узлов в кластер. Клиентская библиотека автоматически начинает распределять данные между всеми доступными узлами, используя, например, консистентное хэширование для равномерного распределения нагрузки.

### 4. Отказоустойчивость
По умолчанию Memcached не предоставляет средств для автоматического восстановления работы при отказе узлов. Если узел выходит из строя, все данные, хранимые на этом узле, теряются. Клиентские библиотеки могут автоматически исключать неработающие узлы из пула доступных серверов, но потерянные данные не восстанавливаются.

### 5. Без состояния
Каждый узел Memcached работает независимо, без знания о состоянии других узлов в системе. Это упрощает конфигурацию и управление, но также означает отсутствие встроенных средств для координации или синхронизации данных между узлами.

### Примеры использования
Такая топология идеально подходит для систем, где необходимо быстро кэшировать большие объемы данных, доступ к которым должен быть максимально быстрым, но где можно терпеть потерю данных или временное недоступность кэша (например, кэширование результатов запросов веб-приложений). Однако для критически важных данных, где требуется высокая доступность и надежность, может потребоваться использование других решений или дополнительные механизмы репликации и резервного копирования.

## Redis vs Memcache

[+] Redis шире варианты использования: можно и как message broker, и как nosql storage, cache. Есть GUI, replica scalale. Миллиард eviction policy. Больше доступных типов данных, есть транзакционность, снэпшоты и персистетность.

[redis.io/wp-content/uploads/2022/07/redis-vs-memcached-comparison-table.pdf](https://redis.io/wp-content/uploads/2022/07/redis-vs-memcached-comparison-table.pdf)



## Redis Sentinel

Master/Slave

+ Failover auto
+ 

However, it’s worth mentioning that Redis Sentinel does not provide any sharding mechanisms. All write and read operations still go to a single master node, which could be a potential bottleneck in a large-scale system.

Нужен для высокой доступности! 

## Redis Cluster

Sharding - распредленное хранение данных. Скорее как Cassandra.

- Sharding
- Avaliabiality
- Scalign
Когда дохера данных и хранить не можем на одной ноде, надо скейлиться. 

