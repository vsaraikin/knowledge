# Architecture

- [Architecture](#architecture)
- [Микросервисы и монолиты](#%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B-%D0%B8-%D0%BC%D0%BE%D0%BD%D0%BE%D0%BB%D0%B8%D1%82%D1%8B)
    + [Что такое монолитная архитектура (её плюсы и минусы)?](#%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%BC%D0%BE%D0%BD%D0%BE%D0%BB%D0%B8%D1%82%D0%BD%D0%B0%D1%8F-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B5%D1%91-%D0%BF%D0%BB%D1%8E%D1%81%D1%8B-%D0%B8-%D0%BC%D0%B8%D0%BD%D1%83%D1%81%D1%8B)
    + [Что такое микросервисная архитектура (её плюсы и минусы)?](#%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BD%D0%B0%D1%8F-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B5%D1%91-%D0%BF%D0%BB%D1%8E%D1%81%D1%8B-%D0%B8-%D0%BC%D0%B8%D0%BD%D1%83%D1%81%D1%8B)
    + [Как происходит переход от монолитной архитектуры к микросервисной?](#%D0%BA%D0%B0%D0%BA-%D0%BF%D1%80%D0%BE%D0%B8%D1%81%D1%85%D0%BE%D0%B4%D0%B8%D1%82-%D0%BF%D0%B5%D1%80%D0%B5%D1%85%D0%BE%D0%B4-%D0%BE%D1%82-%D0%BC%D0%BE%D0%BD%D0%BE%D0%BB%D0%B8%D1%82%D0%BD%D0%BE%D0%B9-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D1%8B-%D0%BA-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BD%D0%BE%D0%B9)
- [Паттерны проектирования](#%D0%BF%D0%B0%D1%82%D1%82%D0%B5%D1%80%D0%BD%D1%8B-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)
  * [Порождающие (creational)](#%D0%BF%D0%BE%D1%80%D0%BE%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5-creational)
  * [Структурные (structural)](#%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%BD%D1%8B%D0%B5-structural)
  * [Поведенческие (behavioral)](#%D0%BF%D0%BE%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-behavioral)

## Микросервисы и монолиты

### Что такое монолитная архитектура (её плюсы и минусы)?

Монолитная архитектура — это традиционная модель программного обеспечения, которая представляет собой единый модуль, работающий автономно и независимо от других приложений.

| Плюсы                                  | Минусы                                             |
| -------------------------------------- | -------------------------------------------------- |
| Быстрый старт и развертывание          | Дольше разрабывать большой проект                  |
| Общий codebase                         | Невозможно масштабировать                          |
| Меньше API вызовов (т.к. общий проект) | Сложнее использовать другую технологию             |
|                                        | Перезапуск всего приложения при внесении изменений |

### Что такое микросервисная архитектура (её плюсы и минусы)?

Микросервисная архитектура представляет собой метод организации архитектуры, основанный на ряде независимо развертываемых служб. У этих служб есть собственная бизнес-логика и база данных с конкретной целью.

| Плюсы                                  | Минусы                                               |
| -------------------------------------- | ---------------------------------------------------- |
| Гибкость с технологиями                | Дорого                                               |
| Отказоустойчивость                     | Сложнее дебажить                                     |
| Локализуются сложность и риски отказов | Сложности развёртывания (сложнее локально запустить) |
| Масштабируемость                       |                                                      |

### Как происходит переход от монолитной архитектуры к микросервисной?

Опция 1. Постепенное отпочковывание микросервисов и написание новой функциональности уже отдельно от основного приложения. Подход хороший и рабочий, но имеет один существенный недостаток — основное монолитное приложение в обозримом будущем не исчезнет. В итоге у нас будет монолит и куча вспомогательных сервисов, вместо набора независимых микросервисов.

## Паттерны проектирования

### Порождающие (creational)

Отвечают за удобное и безопасное создание новых объектов или даже целых семейств объектов.

**[Абстрактная фабрика](https://refactoring.guru/ru/design-patterns/abstract-factory)** — это порождающий паттерн проектирования, который позволяет создавать семейства связанных объектов, не привязываясь к конкретным классам создаваемых объектов.

![Architecture%2031d0cc51b6264ed0915db4f596a9f1f3/Untitled%201.png](abstract-fabric.png)

[Code](https://refactoring.guru/ru/design-patterns/abstract-factory/python/example)

**[Прототип](https://refactoring.guru/ru/design-patterns/prototype)** — это порождающий паттерн проектирования, который позволяет копировать объекты, не вдаваясь в подробности их реализации.

![Architecture%2031d0cc51b6264ed0915db4f596a9f1f3/Untitled%201.png](prototype.png)

[Code](https://refactoring.guru/ru/design-patterns/prototype)

### Структурные (structural)

Отвечают за построение удобных в поддержке иерархий классов.

**[Декоратор](https://refactoring.guru/ru/design-patterns/prototype)** — это структурный паттерн, который позволяет добавлять объектам новые поведения на лету, помещая их в объекты-обёртки.

[Code.](https://refactoring.guru/ru/design-patterns/decorator)

[**Заместитель (proxy)](https://refactoring.guru/ru/design-patterns/proxy)** — это структурный паттерн проектирования, который позволяет подставлять вместо реальных объектов специальные объекты-заменители. Эти объекты перехватывают вызовы к оригинальному объекту, позволяя сделать что-то *до* или *после* передачи вызова оригиналу.

[Code.](https://refactoring.guru/ru/design-patterns/proxy/python/example)

### Поведенческие (behavioural)

Решают задачи эффективного и безопасного взаимодействия между объектами программы.

**[Итератор](https://refactoring.guru/ru/design-patterns/iterator)** — это поведенческий паттерн, позволяющий последовательно обходить сложную коллекцию, без раскрытия деталей её реализации.

[Code.](https://refactoring.guru/ru/design-patterns/iterator/python/example)

**[Стратегия](https://refactoring.guru/ru/design-patterns/strategy)** — это поведенческий паттерн, выносит набор алгоритмов в собственные классы и делает их взаимозаменимыми.

[Code.](https://refactoring.guru/ru/design-patterns/strategy/python/example)

## Паттерны микросервисов

### Saga

### Outbox

[Все о микросервисах](https://microservices.io/)

[Зачем нужен паттерн database per service | Эйч Навыки | Менторство по Go - YouTube](https://www.youtube.com/watch?v=XefGw2hO3kI)
[Собеседование на Go-разработчика, System Design - YouTube](https://www.youtube.com/watch?v=cTHGqKgKBUA)